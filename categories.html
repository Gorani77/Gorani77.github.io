<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- 문서의 기본 정보 -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>카테고리 - Gorani77의 기술 블로그</title>
    
    <!-- 외부 CSS 파일 연결 -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Font Awesome 아이콘 라이브러리 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* 카테고리 페이지 전용 스타일 */
        .category-title {
            margin-bottom: 30px;
            padding-bottom: 10px;
            border-bottom: 2px solid #dee2e6;
        }
        
        .category-list {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .category-item {
            background-color: #e9ecef;
            color: #495057;
            padding: 8px 15px;
            border-radius: 5px;
            text-decoration: none;
            transition: background-color 0.3s;
        }
        
        .category-item:hover {
            background-color: #0d6efd;
            color: white;
        }
        
        .category-item.active {
            background-color: #0d6efd;
            color: white;
        }
    </style>
</head>
<body>
    <!-- 헤더 영역 -->
    <header>
        <div class="container">
            <h1>Gorani77의 기술 블로그</h1>
            <p>프로그래밍과 관련된 다양한 주제를 다룹니다</p>
        </div>
    </header>

    <!-- 네비게이션 영역 -->
    <nav>
        <div class="container">
            <ul>
                <li><a href="index.html">홈</a></li>
                <li><a href="categories.html" class="active">카테고리</a></li>
                <li><a href="tags.html">태그</a></li>
                <li><a href="about.html">소개</a></li>
            </ul>
        </div>
    </nav>

    <!-- 메인 콘텐츠 영역 -->
    <main>
        <div class="container">
            <!-- 카테고리 섹션 -->
            <section>
                <h2 class="category-title">카테고리</h2>
                
                <!-- 카테고리 목록 -->
                <div class="category-list" id="all-categories">
                    <!-- 카테고리는 JavaScript로 동적으로 로드됩니다 -->
                </div>
                
                <!-- 선택된 카테고리의 게시물 -->
                <div id="category-posts">
                    <h3 id="selected-category">모든 게시물</h3>
                    <div id="posts-container">
                        <!-- 게시물은 JavaScript로 동적으로 로드됩니다 -->
                        <div class="loading">게시물을 불러오는 중...</div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- 사이드바 영역 -->
    <aside>
        <div class="sidebar-container">
            <!-- 카테고리 섹션 -->
            <section class="categories">
                <h3>카테고리</h3>
                <ul id="categories-list">
                    <!-- 카테고리는 JavaScript로 동적으로 로드됩니다 -->
                </ul>
            </section>

            <!-- 태그 섹션 -->
            <section class="tags">
                <h3>태그</h3>
                <div id="tags-cloud">
                    <!-- 태그는 JavaScript로 동적으로 로드됩니다 -->
                </div>
            </section>

            <!-- 방문자 카운터 -->
            <section class="visitor-counter">
                <h3>방문 통계</h3>
                <div>
                    <p><i class="fas fa-user"></i> <span id="visitor-count">0</span> 방문자</p>
                    <p><i class="fas fa-eye"></i> <span id="page-views">0</span> 조회수</p>
                </div>
            </section>
        </div>
    </aside>

    <!-- 푸터 영역 -->
    <footer>
        <div class="container">
            <p>&copy; 2024 Gorani77. All rights reserved.</p>
            <p>
                <a href="https://github.com/Gorani77" target="_blank">
                    <i class="fab fa-github"></i> GitHub
                </a>
            </p>
        </div>
    </footer>

    <!-- 외부 JavaScript 파일 연결 -->
    <script src="js/main.js"></script>
    <script src="js/posts.js"></script>
    <script src="js/counter.js"></script>
    
    <!-- 카테고리 페이지 전용 스크립트 -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 모든 카테고리 목록 로드
            loadAllCategories();
            
            // URL에서 선택된 카테고리 가져오기
            const selectedCategory = getQueryParam('category');
            
            // 선택된 카테고리가 있으면 해당 카테고리의 게시물 표시
            if (selectedCategory) {
                document.getElementById('selected-category').textContent = selectedCategory;
                // 여기서 선택된 카테고리의 게시물을 필터링하는 로직을 추가할 수 있음
            }
        });
        
        /**
         * 모든 카테고리 목록을 로드하는 함수
         */
        function loadAllCategories() {
            // 카테고리 데이터 (실제로는 서버나 JSON 파일에서 가져올 수 있음)
            const categories = [
                { name: '개발일지', count: 1 },
                { name: 'AI면접시뮬레이션', count: 1 }
            ];
            
            // 카테고리 목록을 표시할 요소 가져오기
            const allCategoriesContainer = document.getElementById('all-categories');
            
            // 카테고리가 없거나 요소가 없으면 함수 종료
            if (!categories || !allCategoriesContainer) return;
            
            // 모든 게시물 링크 추가
            const allPostsLink = document.createElement('a');
            allPostsLink.href = 'categories.html';
            allPostsLink.className = 'category-item' + (!getQueryParam('category') ? ' active' : '');
            allPostsLink.textContent = '모든 게시물';
            allCategoriesContainer.appendChild(allPostsLink);
            
            // 각 카테고리에 대해 HTML 생성
            categories.forEach(category => {
                const categoryLink = document.createElement('a');
                categoryLink.href = `categories.html?category=${encodeURIComponent(category.name)}`;
                categoryLink.className = 'category-item' + (getQueryParam('category') === category.name ? ' active' : '');
                categoryLink.textContent = `${category.name} (${category.count})`;
                allCategoriesContainer.appendChild(categoryLink);
            });
        }
    </script>
</body>
</html> 